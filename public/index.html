<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <title>Dziennik klasowy</title>

  <style>

/* <span class="material-icons">
help
</span> */
    
    body{
        color: black;
    }

    .navClass{
        background-color: #e6e6e6;
    }

    .dark-container{
        color: lightgray;
        background-color: #1a1a1a;
    }

    .dark-container .modal-content{
        background-color: #1a1a1a;
    }

    /* .dark-container .input-field #blockNote #chat-text #chat-text2 #chat-text3 #login-email #login-password #signup-email #signup-password #signup-name #signup-surname{
        color: white;
    } */

    .dark-container #blockNote{
        color: white;
    }

    .dark-container #chat-text{
        color: white;
    }

    .dark-container #chat-text2{
        color: white;
    }

    .dark-container #chat-text3{
        color: white;
    }

    .dark-container .modal{
        background-color: #1a1a1a;
    }

    .dark-container .container{
        background-color: #1a1a1a;
    }

    .dark-container .collapsible-header{
        background-color: #333333;
    }

    .dark-container .collapsible-body{
        background-color: #595959;
    }

    .collapsible-header{
        background-color: #e6e6e6;
    }

    .collapsible-body{
        background-color: #f2f2f2;
    }

    .dark-container .navClass{
        background-color: #1a1a1a;
    }

  </style>

</head>
<body> 

  <!-- NAVBAR -->
  <nav class="navClass">
    <div class="nav-wrapper container">
      <a href="#" class="brand-logo">
        <img src="img/logo.png" style="height: 50px; width: 200px; margin-top: 10px;">
      </a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
          <li class="logged-in-isAdmin" style="display: none;">
            <a href="#" class="grey-text modal-trigger" title="Wyświetl listę wszystkich studentów." data-target="modal-students">Studenci
                <span class="material-icons">
                    people
                    </span>
            </a>
          </li>
          <li class="logged-in" style="display: none;">
            <a href="#" class="grey-text modal-trigger" title="Informacje dotyczące aktualnie zalogowanego uzytkownika." data-target="modal-account">Konto
                <span class="material-icons">
                    person
                    </span>
            </a>
          </li>
          <li class="logged-in-isAdmin" style="display: none;">
            <a href="#" class="grey-text modal-trigger" title="Dodaj ocenę dla wybranego studenta." data-target="modal-create">Dodaj ocenę
                <span class="material-icons">
                    add
                    </span>
            </a>
          </li>
          <li class="logged-out" style="display: none;">
            <a href="#" class="grey-text modal-trigger" title="Zaloguj się, aby otrzymać dostęp do dziennika." data-target="modal-login">Zaloguj
                <span class="material-icons">
                    login
                    </span>
            </a>
          </li>
          <li class="logged-out" style="display: none;">
            <a href="#" class="grey-text modal-trigger" title="Jezeli nie posiadasz konta wykonaj rejestrację." data-target="modal-signup">Rejestracja
                <span class="material-icons">
                    app_registration
                    </span>
            </a>
          </li>
          <li class="logged-in" style="display: none;">
            <a href="#" class="grey-text modal-trigger" title="Czat umozliwiający komunikację między grupami." data-target="modal-chat">Czat
                <span class="material-icons">
                    chat
                    </span>
            </a>
          </li>
          <li class="logged-in" style="display: none;">
            <a href="#" class="grey-text" title="Wylogowanie uzytkownika z aktualnej sesji." id="logout">Wyloguj
                <span class="material-icons">
                    logout
                    </span>
            </a>
          </li>
          <li class="logged-in" style="display: none;">
            <div class="switch">
                <label>
                    <input type="checkbox" id="check" name="check">
                    <span class="lever"></span>
                    <span class="material-icons">
                        brightness_medium
                    </span>
                </label>
              </div>
          </li>
        </span>
      </ul>
    </div>
  </nav>

  <!-- SIGN UP -->
  <div id="modal-signup" class="modal" style="height: auto; width: auto">
    <div class="modal-content">
      <h4>Zarejestruj się</h4><br />
      <form id="signup-form">
        <div class="input-field">
            <input type="email" id="signup-email" required />
            <label for="signup-email">Email</label>
        </div>
        <div class="input-field">
            <input type="password" id="signup-password" required />
            <label for="signup-password">Hasło</label>
        </div>
        <div class="input-field">
            <input type="text" id="signup-name" required />
            <label for="signup-name">Imię</label>
        </div>
        <div class="input-field">
            <input type="text" id="signup-surname" required />
            <label for="signup-surname">Nazwisko</label>
        </div>
        <div class="input-field">
            <!-- <input type="text" id="signup-group" required /> -->
            <!-- <label for="signup-group">Group</label> -->
            <label for="hideBlockGroup"></label>
            <!-- <select id="hideBlockGroup" class="browser-default" style="display: block;">  -->
            <select id="hideBlockGroup" class="admin-group" style="display: block;"> 
            </select>
        </div>
        <!-- <div class="input-field">
            <label for="signup-subject1"></label>
            <select id="signup-subject1" class="subject1" style="display: hide;"> 
            </select>
        </div>
        <div class="input-field">
            <label for="signup-subject2"></label>
            <select id="signup-subject2" class="subject2" style="display: hide;"> 
            </select>
        </div>
        <div class="input-field">
            <label for="signup-subject3"></label>
            <select id="signup-subject3" class="subject3" style="display: hide;"> 
            </select>
        </div> -->
        <div class="subject1"></div>
        <div class="subject2"></div>
        <div class="subject3"></div>
        <br>
        <button class="btn yellow darken-2 z-depth-0">Zarejestruj się</button>
        <p class="error red-text center-align"></p>
      </form>
    </div>
  </div>

  <!-- LOGIN -->
  <div id="modal-login" class="modal" style="height: auto; width: auto">
    <div class="modal-content">
      <h4>Zaloguj się</h4><br />
      <form id="login-form">
        <div class="input-field">
          <input type="email" id="login-email" required />
          <label for="login-email">Email</label>
        </div>
        <div class="input-field">
          <input type="password" id="login-password" required />
          <label for="login-password">Hasło</label>
        </div>
        <button class="btn yellow darken-2 z-depth-0">Zaloguj się</button>
        <p class="error red-text center-align"></p>
      </form>
    </div>
  </div>

  <!-- CHAT -->
  <div id="modal-chat" class="modal">
    <div class="modal-content center-align">
      <h4>Czat</h4><br />
        <div id="chat"> 
            <div class="logged-in-isAdmin" style="display: none;"> 
            <hr style="height: 5px; color: black"><h4>Grupa 1A</h4>    
            </div>    
            <ul id="messages"></ul>
            <form id="send-message" style="margin-left:20%; margin-right: 20%;"><br><br><br><br>
                <input id="chat-text" type="text" placeholder="Napisz wiadomość .." />
                <button class="btn yellow darken-2 z-depth-0" id="chat-btn" type="submit">Wyślij</button>
            </form>      
        </div>
        <div id="chat2" class="logged-in-isAdmin" style="display: none;"> 
            <hr style="height: 5px; color: black"><h4>Grupa 1B</h4>    
            <ul id="messages2"></ul>
            <form id="send-message2" style="margin-left:20%; margin-right: 20%;"><br><br><br><br>
                <input id="chat-text2" type="text" placeholder="Napisz wiadomość .." />
                <button class="btn yellow darken-2 z-depth-0" id="chat-btn" type="submit">Wyślij</button>
            </form>      
        </div>   
        <div id="chat3" class="logged-in-isAdmin" style="display: none;">  
            <hr style="height: 5px; color: black"><h4>Grupa 2A</h4>     
            <ul id="messages3"></ul>
            <form id="send-message3" style="margin-left:20%; margin-right: 20%;"><br><br><br><br>
                <input id="chat-text3" type="text" placeholder="Napisz wiadomość .." />
                <button class="btn yellow darken-2 z-depth-0" id="chat-btn" type="submit">Wyślij</button>
            </form>      
        </div>       
    </div>
  </div>

  <!-- STUDENTS MODAL -->
  <div id="modal-students" class="modal" >
    <div class="modal-content center-align">
      <h4>Lista studentów</h4><br />
      <div class="student-list"></div>
    </div>
  </div>

  <!-- ACCOUNT MODAL -->
  <div id="modal-account" class="modal" style="height: auto; width: auto">
    <div class="modal-content center-align">
      <h4>Szczegóły konta</h4><br />
      <div class="account-details"></div>
    </div>
  </div>
  
  <!-- SEARCH HASH -->
  <div id="modal-search" class="modal" style="height: auto; width: 40%">
    <div class="modal-content center-align">
      <h4>Wyszukaj hash</h4><br />
      <div class="search-hash"></div>
    </div>
  </div>

  <!-- ADD PERMISSIONS -->
    <div id="modal-add" class="modal" style="width: 40%; height: 20%;">
        <div class="modal-content center-align">
          <h4>Dodaj uprawnienia</h4><br />
          <hr>
          <div class="add-admin"></div>
        </div>
    </div>

  <!-- CREATE MODAL --> 
  <div id="modal-create" class="modal">
    <div class="modal-content">
      <h4>Dodaj ocenę</h4><br />
      <form id="create-form">
        <div class="input-field col s12">
            <label for="blockSubject"></label> 
            <select id="blockSubject" class="browser-default" style="display: block;"> 
            </select>
        </div>
        <br>
        <div class="input-field col s12">
          <label for="blockMark"></label>
          <select id="blockMark" class="browser-default" style="display: block;">
         </select>
        </div>
        <br>
        <div class="input-field col s12">
            <label for="blockGroup"></label> 
            <select id="blockGroup" class="check-students-group" style="display: block;"> 
            </select>
        </div>
        <br>
        <div class="input-field col s12">
            <label for="blockStudent"></label>
            <select id="blockStudent" class="browser-default" style="display: none;"> 
            </select>
        </div>
        <br>

        <!-- <div class="input-field col s12">
            <label for="hideBlockStudent"></label>
            <select id="hideBlockStudent" class="students-group" style="display: block;"> 
            </select>
        </div>
        <div class="groupOfStudents"></div> -->

        <br>
        <div class="input-field">
            <input type="text" id="blockNote" required>
            <label for="blockNote">Notatka</label>
          </div>
          <br>
        <button class="btn yellow darken-2 z-depth-0">Dodaj</button>
        <div id="createAlert" style="color:red; text-align: center;"></div>
      </form>
    </div>
  </div>

  <!-- CONTAINER / Search bar / Mark list / Add admin -->
    <div class="logged-in" style="display: none;">
        <div class="container center-align" style="margin-top: 20px;">
        <form id="search-form">
            <div class="input-field" style="margin: 40px 20% 0% 20%; padding-left: 40px;">
                <input id="search" type="search" placeholder="Hash / Klucz publiczny" required>
                <label class="label-icon" for="search"> 
                <i class="material-icons" style="margin-top:10px;">search</i></label>
            </div>
            <a href="#" class="btn yellow darken-2 z-depth-0 modal-trigger" data-target="modal-search">Wyszukaj
            </a>
            <a title="Wpisz hash lub klucz publiczny, aby wyszukac ocenę lub listę ocen danego ucznia.">
            <span class="material-icons">
              help
              </span>
            </a>
        </form>
        </div>
    </div>

    <!-- ADD PERMISSIONS -->
    <div class="logged-in-isAdmin" style="display: none;">
        <div class="container center-align" style="margin-top: 20px;">
            <form id="add-form">
              <div class="input-field" style="margin: 40px 20% 0% 20%; padding-left: 40px;">
                <input type="search" id="adminAdd" placeholder="Imię i Nazwisko" required />
                  <label class="label-icon" for="adminAdd">
                  <i class="material-icons" style="margin-top:10px;">admin_panel_settings</i></label>
                </div>
                <a href="#" class="btn yellow darken-2 z-depth-0 modal-trigger" data-target="modal-add">Dodaj uprawnienia</a>
                <a title="Podaj imię i nazwisko nauczyciela, aby nadać mu uprawnienia do zarządzania dziennikiem.">
                  <span class="material-icons">
                    help
                    </span>
                  </a>
              </form>
        </div>
    </div>

 

    <div class="container" style="margin-top: 40px;">
        <ul class="blocks collapsible z-depth-0" style="border: none;">  
        </ul>
    </div>

<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.6.0/firebase-firestore.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.9.3/firebase-functions.js"></script>
<script src="https://www.gstatic.com/firebasejs/5.9.3/firebase-database.js"></script>

<script>
    // Your web app's Firebase configuration
    const firebaseConfig = {
    apiKey: "AIzaSyAoOCQ_XwjsIBRnPQYc8b5NLAjy7xDxFu4",
    authDomain: "class-journal-88a61.firebaseapp.com",
    projectId: "class-journal-88a61",
    storageBucket: "class-journal-88a61.appspot.com",
    messagingSenderId: "580381791974",
    appId: "1:580381791974:web:2dd3d1d38c7aed04258d27"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);

    const auth = firebase.auth();
    const db = firebase.firestore();
    
    db.settings({ timestampsInSnapshots: true });
</script>
<!-- <script src="firebase/config.js" type="module"></script> -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9/core.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.9/sha256.js"></script>
<script src="scripts/auth.js"></script>
<script src="scripts/index.js"></script>
<script src="scripts/blockchain.js"></script>

</body>
</html>